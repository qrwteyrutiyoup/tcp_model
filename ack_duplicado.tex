%Equipe: Vinicius, Luis Ribeiro
%Livro: Seção 5.3.2, p.131

\subsection{ACKs Duplicados}
A modelagem do protocolo TCP é feita sobre o algoritmo de controle congestionamento TCP Reno.
Neste algoritmo, após o \textit{Slow Start}, o tamanho da janela de congestionamento ($W$) é 
incrementado em $1/W$ a cada \textit{ACK} recebido e decrementado a cada indicação de perda 
de pacote percebida. O valor da redução no tamanho da janela varia de acordo com o tipo de indicação de
perda de pacote: triplo \textit{ACK} duplicado ou \textit{timeout}. No primeiro caso o tamanho
da janela é dividido pela metade do seu valor corrente, no segundo a janela é reduzida a um 
pacote. Nesta seção consideraremos que perdas de pacotes são indicadas apenas por triplos 
\textit{ACK's} duplicados (TD).

O comportamento do protocolo TCP é modelado em termos de rodadas (\textit{rounds}). Uma rodada
se inicia com a transmissão de $W$ pacotes de uma janela. Uma vez que todos os pacotes tenham sido 
transmitidos, o remetente passa a aguardar a recepção de \textit{ACK's}. O recebimento do primeiro 
\textit{ACK} marca o fim da rodada atual e início da próxima. Note que a cada rodada o tamanho da 
janela é incrementado em um pacote.

A figura \ref{fig:tdp_macro} apresenta o comportamento de uma conexão TCP, descrito acima, em mais detalhes. 
Defini-se período TD (TDP) como o intervalo entre duas indicações de perda de pacote por triplo \textit{ACK} 
duplicado (TD). Durante este intervalo, o tamanho da janela é incrementado de uma unidade a cada rodada. 
No fim de cada TDP$_{i}$ o tamanho da janela é dividido ao meio.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.8]{./figs/tdp_macro.pdf}
  \caption{Evolução do tamanho da janela quando perdas de pacotes são TDs.}
  \label{fig:tdp_macro}
\end{figure}


\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.8]{./figs/tdp_detalhe.pdf}
  \caption{Pacotes enviados durante um período TD (TDP$_{i}$).}
  \label{fig:tdp_detalhe}
\end{figure}
